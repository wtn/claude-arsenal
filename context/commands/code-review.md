# /code-review

Run architectural code review on recent changes.

## Usage

```
/code-review
```

## What This Command Does

This command invokes the **code-architecture-reviewer** agent to perform a comprehensive architectural review of your recent code changes.

1. Identifies files modified in the current session
2. Reviews code for architectural quality
3. Checks adherence to team skills and patterns
4. Provides structured, actionable feedback

## What Gets Reviewed

**Architecture:**
- Separation of concerns
- Design patterns
- Abstraction levels
- Dependencies

**Code Quality:**
- Naming conventions
- Function/method size
- Code duplication
- Error handling

**Best Practices:**
- Skill guideline adherence
- Security considerations
- Performance implications
- Test coverage

**Maintainability:**
- Documentation
- Code clarity
- Technical debt

## Example

```
/code-review
```

Output:
```
# Code Architecture Review Report

## Summary
Reviewed 5 files for user authentication feature.
Overall: Pass with minor warnings

## Strengths
- Clean separation between controller and service layers
- Proper error handling with custom exceptions
- Good test coverage

## Issues Found

### Warnings (Should Fix)
1. **Service method too long** in `user_service.rb:45`
   - Problem: authenticate_user method is 35 lines
   - Recommendation: Extract validation logic to private method

## Skill Adherence
-  Follows backend-dev guidelines
-  Follows testing-standards

## Overall Assessment
Pass with warnings - recommend addressing service method complexity
```

## Integration

Works with:
- **Agent:** `code-architecture-reviewer` (invoked automatically)
- **Skills:** References all relevant skills
- **Hooks:** Can be triggered by stop hook
- **Commands:**
  - `/dev-docs` - Create plan before implementation
  - `/build-and-fix` - Fix issues found in review

## When to Use

**Good times:**
- Before committing code
- After completing a feature
- Before creating a pull request
- During development for quick feedback

**Not ideal for:**
- Minor typo fixes
- Configuration changes only
- When no code has been modified

## Notes

- Review is based on files edited in current session
- Agent references skills in `.claude/skills/`
- Provides severity levels: Critical/Warning/Suggestion
- Feedback is constructive and educational

## Tips

For best results:
1. Run after implementing a feature
2. Address Critical issues before committing
3. Consider Warnings seriously
4. Use Suggestions for continuous improvement

---

*Generated by: Claude Arsenal*
*Agent used: code-architecture-reviewer*
